ä»Šå¤©åœ¨å…¬å¸å¯¹Atlasçš„ç¼“å­˜æ¨¡å—è¿›è¡Œäº†äºŒæ¬¡é‡æ„ï¼Œé‡‡ç”¨tagè¿›è¡Œç¼“å­˜è¿‡æœŸçš„è®¾è®¡ï¼Œè¿™ä¸¤å¤©ä¸åœçš„æŠ˜è…¾è¿™ä¸ªç¼“å­˜ç³»ç»Ÿï¼Œæ„Ÿè§‰è®¾è®¡ä¸€ä¸ªä¼˜ç§€çš„ç¼“å­˜ç³»ç»Ÿï¼Œå¿…é¡»æŠŠscopeã€invalidã€cachekeydefintionåšå¥½ è¿™å‡ å—æ˜¯ç¼“å­˜è®¾è®¡çš„éš¾ç‚¹ã€‚

Today, I rebuilt the Atlas caching module again at my commpany, I used the tag to invalidate the cache, I rebuit the caching system spent two days, I got a experience is you design a good caching system must be design some good module of sope, invalidate,cachekingdefintion.

âœ… æ”¹è¿›åçš„è‡ªç„¶è‹±æ–‡ç‰ˆæœ¬ï¼š

Today, I refactored the caching module of Atlas at my company for the second time. I adopted a tag-based design for cache invalidation.
Iâ€™ve been working on this caching system for the past two days, and I realized that to build a great caching system, you really need to get three things right â€” scope, invalidation, and cache key definition. These are the most challenging parts of cache design.

ğŸ” è¯¦ç»†è®²è§£ï¼š

â€œrebuilt â€¦ againâ€ â†’ â€œrefactored â€¦ for the second timeâ€

â€œrebuildâ€ æ›´åƒâ€œé‡å»ºæ•´ä¸ªç³»ç»Ÿâ€ï¼›ä½ è¿™é‡Œæ˜¯â€œäºŒæ¬¡é‡æ„æ¨¡å—â€ï¼Œç”¨ â€œrefactorâ€ æ›´å‡†ç¡®ã€‚

â€œagainâ€ å¯ä»¥æ¢æˆæ›´æ¸…æ™°çš„ â€œfor the second timeâ€ã€‚

â€œat my commpanyâ€ â†’ â€œat my companyâ€
æ‹¼å†™é”™è¯¯ï¼ˆcommpany â†’ companyï¼‰ã€‚

â€œI used the tag to invalidate the cacheâ€ â†’ â€œI adopted a tag-based design for cache invalidationâ€
åŸå¥è™½ç„¶èƒ½ç†è§£ï¼Œä½†è¯­æ„Ÿä¸è‡ªç„¶ï¼›â€œadopted a tag-based designâ€ æ˜¯æŠ€æœ¯æ–‡é‡Œå¸¸è§è¡¨è¾¾ã€‚

â€œI rebuit the caching system spent two daysâ€ â†’ â€œIâ€™ve been working on this caching system for the past two daysâ€

è¯­æ³•é”™è¯¯ï¼šä¸èƒ½ç›´æ¥ â€œspent two daysâ€ æ¥åœ¨å¥åã€‚

ç”¨ â€œIâ€™ve been working on â€¦â€ è¡¨ç¤ºæœ€è¿‘æŒç»­çš„åŠ¨ä½œï¼Œæ›´è‡ªç„¶ã€‚

â€œI got a experience isâ€¦â€ â†’ â€œI realized that â€¦â€
â€œI got a experienceâ€ æ˜¯ä¸­å¼è¡¨è¾¾ã€‚
è‹±è¯­é‡Œè¡¨è¾¾â€œå¾—åˆ°ä¸€ä¸ªä½“ä¼šâ€æ›´å¸¸ç”¨ â€œI realized thatâ€ æˆ– â€œIâ€™ve learned thatâ€ã€‚

â€œmust be design some good module of sope, invalidate, cachekingdefintionâ€ â†’ â€œyou really need to get scope, invalidation, and cache key definition rightâ€

â€œsopeâ€ æ‹¼å†™åº”ä¸º â€œscopeâ€ã€‚

â€œcachekingdefintionâ€ åº”ä¸º â€œcache key definitionâ€ã€‚

è‹±è¯­ä¸­ä¸éœ€è¦é‡å¤â€œdesignâ€é‚£ä¹ˆå¤šæ¬¡ï¼›â€œget â€¦ rightâ€ æ˜¯å¾ˆåœ°é“çš„è¡¨è¾¾æ–¹å¼ã€‚

ğŸ’¬ å¦‚æœä½ æƒ³ä¿ç•™ä¸€ç‚¹â€œæ—¥è®°å£è¯­æ„Ÿâ€ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š

Today I refactored the caching module of Atlas again. I switched to a tag-based invalidation design.
Iâ€™ve been struggling with this system for the past two days. Building a solid caching system is not easy â€” you have to get the scope, invalidation, and cache key definition just right. Those parts are the real challenge.
